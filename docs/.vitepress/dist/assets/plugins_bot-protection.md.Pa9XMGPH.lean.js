import{_ as i,c as t,a2 as e,o as a}from"./chunks/framework.B1nutZSU.js";const k=JSON.parse('{"title":"Bot Protection Plugin","description":"","frontmatter":{},"headers":[],"relativePath":"plugins/bot-protection.md","filePath":"plugins/bot-protection.md"}'),n={name:"plugins/bot-protection.md"};function l(o,s,p,h,r,c){return a(),t("div",null,s[0]||(s[0]=[e(`<h1 id="bot-protection-plugin" tabindex="-1">Bot Protection Plugin <a class="header-anchor" href="#bot-protection-plugin" aria-label="Permalink to &quot;Bot Protection Plugin&quot;">​</a></h1><p>The Bot Protection (<code>bot_protection</code>) plugin helps safeguard your APIs by blocking requests based on User Agent strings in the HTTP headers. This plugin is ideal for filtering out traffic from known bots or restricting access to specific clients.</p><h2 id="how-it-works" tabindex="-1">How It Works <a class="header-anchor" href="#how-it-works" aria-label="Permalink to &quot;How It Works&quot;">​</a></h2><p>The Bot Protection plugin inspects the <code>User-Agent</code> header in incoming requests and applies one of two rules:</p><ol><li><strong>Blacklist</strong>: Blocks requests from User Agents listed in the <code>blacklist</code>.</li><li><strong>Whitelist</strong>: Allows only requests from User Agents listed in the <code>whitelist</code>.</li></ol><div class="warning custom-block"><p class="custom-block-title">WARNING</p><p>You cannot configure both <code>blacklist</code> and <code>whitelist</code> at the same time. Choose one based on your requirements.</p></div><p>Requests that do not meet the configured criteria are rejected with a <strong>403 Forbidden</strong> response.</p><h3 id="key-features" tabindex="-1">Key Features <a class="header-anchor" href="#key-features" aria-label="Permalink to &quot;Key Features&quot;">​</a></h3><ul><li>Simple filtering based on <code>User-Agent</code> strings.</li><li>Configurable as a blacklist or whitelist.</li></ul><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>Learn how to integrate this plugin into your setup in the <strong><a href="./../plugins/">Plugins Overview</a></strong>.</p></div><h2 id="configuration-fields" tabindex="-1">Configuration Fields <a class="header-anchor" href="#configuration-fields" aria-label="Permalink to &quot;Configuration Fields&quot;">​</a></h2><table tabindex="0"><thead><tr><th>Field</th><th>Type</th><th>Description</th><th>Example Value</th></tr></thead><tbody><tr><td><code>blacklist</code></td><td>Array</td><td>List of User Agents to block. Cannot be used with <code>whitelist</code>.</td><td><code>[&quot;googlebot&quot;, &quot;bingbot&quot;]</code></td></tr><tr><td><code>whitelist</code></td><td>Array</td><td>List of User Agents to allow. Cannot be used with <code>blacklist</code>.</td><td><code>[&quot;custom-client&quot;]</code></td></tr></tbody></table><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>Use <code>blacklist</code> for blocking unwanted bots, and <code>whitelist</code> for restricting access to specific clients.</p></div><h2 id="example-configuration" tabindex="-1">Example Configuration <a class="header-anchor" href="#example-configuration" aria-label="Permalink to &quot;Example Configuration&quot;">​</a></h2><h3 id="blacklist-example" tabindex="-1">Blacklist Example <a class="header-anchor" href="#blacklist-example" aria-label="Permalink to &quot;Blacklist Example&quot;">​</a></h3><div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;name&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;bot_protection&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;enabled&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;config&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;blacklist&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;googlebot&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;bingbot&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;yahoobot&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h3 id="whitelist-example" tabindex="-1">Whitelist Example <a class="header-anchor" href="#whitelist-example" aria-label="Permalink to &quot;Whitelist Example&quot;">​</a></h3><div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;name&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;bot_protection&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;enabled&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;config&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;whitelist&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;custom-client&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;trusted-agent&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h3 id="explanation" tabindex="-1">Explanation <a class="header-anchor" href="#explanation" aria-label="Permalink to &quot;Explanation&quot;">​</a></h3><ul><li><strong><code>blacklist</code></strong>: Blocks requests from the specified User Agents.</li><li><strong><code>whitelist</code></strong>: Allows requests only from the specified User Agents.</li></ul><h2 id="applying-the-plugin" tabindex="-1">Applying the Plugin <a class="header-anchor" href="#applying-the-plugin" aria-label="Permalink to &quot;Applying the Plugin&quot;">​</a></h2><p>The Bot Protection plugin can be applied at various levels:</p><ol><li><strong>Global Level</strong>: Filters all traffic at the gateway.</li><li><strong>Service Level</strong>: Applies filtering to specific services.</li><li><strong>Route Level</strong>: Restricts access to individual routes.</li></ol><p>Example of applying the plugin globally:</p><div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;name&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;bot_protection&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;enabled&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;config&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;blacklist&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;googlebot&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;bingbot&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>Apply the plugin at the global level to protect all APIs from unwanted User Agents.</p></div><h2 id="use-cases" tabindex="-1">Use Cases <a class="header-anchor" href="#use-cases" aria-label="Permalink to &quot;Use Cases&quot;">​</a></h2><ol><li><strong>Block Search Engine Crawlers</strong>: Prevent bots like <code>googlebot</code> and <code>bingbot</code> from indexing sensitive APIs.</li><li><strong>Restrict API Access</strong>: Allow only trusted clients using the <code>whitelist</code> feature.</li><li><strong>Enhance Security</strong>: Reduce unwanted traffic and potential misuse by filtering suspicious User Agents.</li></ol><h2 id="tips-for-using-the-bot-protection-plugin" tabindex="-1">Tips for Using the Bot Protection Plugin <a class="header-anchor" href="#tips-for-using-the-bot-protection-plugin" aria-label="Permalink to &quot;Tips for Using the Bot Protection Plugin&quot;">​</a></h2><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>Regularly update the <code>blacklist</code> or <code>whitelist</code> based on observed traffic patterns and new threats.</p></div><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>Combine with other plugins like Rate Limiting for layered protection.</p></div><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>Monitor blocked requests using logs or analytics to fine-tune your configuration.</p></div><div class="warning custom-block"><p class="custom-block-title">WARNING</p><p>This plugin provides basic filtering and may not prevent sophisticated attacks. Combine it with authentication and IP-based restrictions for robust security.</p></div><p>For more plugins, visit the <strong><a href="./../plugins/">Plugins Overview</a></strong>.</p>`,34)]))}const u=i(n,[["render",l]]);export{k as __pageData,u as default};
